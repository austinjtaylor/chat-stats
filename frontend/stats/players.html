<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Stats - UFA Statistics</title>
    <!-- New modular CSS structure -->
    <link rel="stylesheet" href="../styles/main.css">
    <!-- Players page specific styles -->
    <link rel="stylesheet" href="players.css">
</head>
<body class="stats-page" data-page="players">
    <!-- Menu Icon with Logo -->
    <div class="menu-wrapper with-logo">
        <button class="icon-button menu-icon" id="menuIcon" aria-label="Menu">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        </button>
        <div class="logo-wrapper">
            <img src="/images/chat-stats-logo-light.svg" alt="Chat Stats Logo" class="logo-light">
            <img src="/images/chat-stats-logo-dark.svg" alt="Chat Stats Logo" class="logo-dark">
        </div>
        <h1 class="page-title">Player Stats</h1>
        <div class="dropdown menu-dropdown" id="menuDropdown">
            <a href="/index.html" class="dropdown-item">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
                </svg>
                Chat
            </a>
            <div class="dropdown-divider"></div>
            <a href="/stats/players.html" class="dropdown-item">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="8" r="3"></circle>
                    <path d="M12 11c3.5 0 6.5 1.5 8 4-1.5 2.5-4.5 4-8 4s-6.5-1.5-8-4c1.5-2.5 4.5-4 8-4z"></path>
                </svg>
                Players
            </a>
            <a href="/stats/teams.html" class="dropdown-item">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                    <circle cx="9" cy="7" r="4"></circle>
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg>
                Teams
            </a>
            <a href="/stats/game-detail.html" class="dropdown-item">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                </svg>
                Games
            </a>
        </div>
    </div>

    <!-- Settings Icon -->
    <div class="settings-wrapper">
        <button class="icon-button settings-icon" id="settingsIcon" aria-label="Settings">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 15a3 3 0 100-6 3 3 0 000 6z"></path>
                <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"></path>
            </svg>
        </button>
        <div class="dropdown settings-dropdown" id="settingsDropdown">
            <div class="theme-toggle-item" id="themeToggleItem">
                <div class="theme-toggle-label">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    Dark Mode
                </div>
                <div class="theme-toggle-switch" id="themeSwitch">
                    <div class="theme-toggle-slider"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="stats-container">

        <!-- Main Content -->
        <main class="stats-main">
            <!-- Data Table -->
            <div class="table-section">
                <div class="table-header">

                    <!-- Integrated Filters -->
                    <div class="table-filters">
                        <div class="filter-group compact">
                            <label for="seasonFilter">Season</label>
                            <select id="seasonFilter" class="filter-select compact">
                                <option value="career" selected>Career</option>
                                <option value="2025">2025</option>
                                <option value="2024">2024</option>
                                <option value="2023">2023</option>
                                <option value="2022">2022</option>
                                <option value="2021">2021</option>
                                <option value="2019">2019</option>
                                <option value="2018">2018</option>
                                <option value="2017">2017</option>
                                <option value="2016">2016</option>
                                <option value="2015">2015</option>
                                <option value="2014">2014</option>
                                <option value="2013">2013</option>
                                <option value="2012">2012</option>
                            </select>
                        </div>
                        <div class="filter-group compact">
                            <label for="perFilter">Per</label>
                            <select id="perFilter" class="filter-select compact">
                                <option value="total" selected>Total</option>
                                <option value="game">Per Game</option>
                            </select>
                        </div>
                        <div class="filter-group compact">
                            <label for="teamFilter">Team</label>
                            <select id="teamFilter" class="filter-select compact">
                                <option value="all" selected>All</option>
                            </select>
                        </div>
                    </div>

                    <div class="table-info">
                        <span id="playerCount">Loading...</span> players
                    </div>
                </div>
                <div class="table-container">
                    <table class="stats-table" id="playersTable">
                        <thead>
                            <tr id="tableHeaders">
                                <!-- Headers will be populated by JavaScript -->
                            </tr>
                        </thead>
                        <tbody id="playersTableBody">
                            <tr>
                                <td colspan="25" class="loading">Loading player statistics...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="paginationContainer">
                    <!-- Pagination will be populated by JavaScript -->
                </div>
            </div>
        </main>
    </div>

    <!-- Vite entry point -->
    <script type="module" src="/stats/players.entry.ts"></script>

    <!-- Legacy fallback for non-module browsers -->
    <script nomodule>
        console.warn('Your browser does not support ES modules. Some features may not work correctly.');
    </script>
</body>
</html>